{"version":3,"sources":["assets/images/zoom.jpg","api/api.js","redux/dialogs-reducer.js","components/Users/users.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.js","components/Navbar/Navbar.jsx","utils/validators/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/Preloader/Preloader.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","Navbar","s","nav","item","to","activeClassName","activeLink","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","fake","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","alt","src","photos","small","userPhoto","Users","createSelector","usersPage","getPageSize","PageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","href","title","loginBlock","isAuth","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getAuthUserData","getCaptchaUrlSuccess","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","style","formSummaryError","url","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","JSApp","ReactDOM","document","getElementById","class","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","newPostText","addPostActionCreator","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.8953cdba.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/zoom.4bb0722e.jpg\";","import * as axios from \"axios\";\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        \"API-KEY\": \"89e2f250-2505-4a1c-a90b-397e41b71ddc\",\n      }\n})\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10){\n      return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n        .then(response => {\n          return response.data;\n        });\n},\n  follow(userId) {\n   return instance.post(`follow/${userId}`)\n  },\n  unfollow(userId) {\n    return instance.delete(`follow/${userId}`)\n  },\n  getProfile(userId) {\n    console.warn('Obsolete method please profileApi object')\n    return profileAPI.getProfile(userId);\n  },\n}\n\nexport const profileAPI = {\n  getProfile(userId) {\n    return instance.get(`profile/` + userId);\n  },\n  getStatus(userId) {\n    return instance.get(`profile/status/` + userId);\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status: status } );\n  },\n  savePhoto(photoFile) {\n    const formData = new FormData();\n    formData.append(\"image\", photoFile);\n\n    return instance.put(`profile/photo`, formData, {\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    });\n  },\n  saveProfile(profile) {\n    return instance.put(`profile`, profile );\n  }\n};\n\nexport const authAPI = {\n  me() {\n    return instance.get(`auth/me`)\n  },\n  login( email, password, rememberMe = false, captcha=null ) {\n    return instance.post(`auth/login`, { email, password, rememberMe, captcha})\n  },\n  logout() {\n    return instance.delete(`auth/login`)\n  },\n}\n\nexport const securityAPI = {\n  getCaptchaUrl() {\n    return instance.get(`security/get-captcha-url`)\n  }\n}","const SEND_MESSAGE = \"SEND-MESSAGE\";\n\nlet initialState = {\n  dialogs: [\n    { id: 1, name: \"Dallas\" },\n    { id: 2, name: \"Jack\" },\n    { id: 3, name: \"Joseph\" },\n    { id: 4, name: \"Eva\" },\n    { id: 5, name: \"Siberia\" },\n    { id: 6, name: \"Tokio\" },\n  ],\n  messages: [\n    { id: 1, message: \"Tokio is calling Berlin\" },\n    { id: 2, message: \"Tokio is calling Dock\" },\n    { id: 3, message: \"Tokio is calling Albania\" },\n    { id: 4, message: \"Eva\" },\n    { id: 5, message: \"Siberia\" },\n    { id: 6, message: \"Tokio\" },\n  ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      let body = action.newMessageBody;\n      return {\n        ...state,\n        messages: [ ...state.messages, { id: 6, message: body }],\n      };\n    default:\n      return state;\n  }\n};\n\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\n\nexport default dialogsReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1_En6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","import React from \"react\";\nimport styles from \"./FormsControls.module.css\";\nimport { Field } from \"redux-form\";\n//import { required } from \"../../../utils/validators/validators\";\n\nconst FormControl = ({input, meta: {touched, error}, children}) => {\n\n    const hasError = touched && error;\n    return (\n        <div className={styles.formControl + \" \" + ( hasError ? styles.error : \"\")}>\n            <div>\n                {children}\n            </div>\n            { hasError && <span>{error}</span>}\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const {input, meta, child, ...restProps} = props;\n    return <FormControl {...props}> <textarea {...input}{...restProps}/></FormControl>\n}\n\nexport const Input = (props) => {\n    const {input, meta, child,...restProps} = props;\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}\n\nexport const createField = (placeholder, name, validators, component, props = {}, text=\"\") => (\n        <div>\n            <Field placeholder={placeholder} \n                   name={name}\n                   validate={validators}\n                   component={component}\n                   {...props}\n        /> {text}\n    </div>\n)","import React from 'react'\nimport { NavLink } from 'react-router-dom';\nimport s from './Navbar.module.css'\n\nconst Navbar = () => {\n    return <nav className={s.nav}>\n          <div className={s.item}>\n            <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\n          </div>\n          <div className={`${s.item} ${s.active}`}>\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={`${s.item} ${s.active}`}>\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n          <div className={s.item}>\n            <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\n          </div>\n          <div className={s.item}>\n            <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\n          </div>\n          <div className={s.item}>\n            <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\n          </div>\n  </nav>\n}\n\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n  return items.map(u => {\n      if (u[objPropName] === itemId) {\n          return {...u, ...newObjProps}\n      }\n      return u;\n  })\n};","import {usersAPI} from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/validators/object-helpers\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState = {\n    users: [],\n    pageSize: 12,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: [],\n    fake: 10\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true} )\n            }\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false} )\n            }\n        case SET_USERS: {\n            return {...state, users: action.users}\n        }\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {...state, totalUsersCount: action.count}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        }\n        default:\n            return state;\n    }\n}\n\n\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\nexport const setUsers = (users) => ({type: SET_USERS, users})\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetching, userId) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userId\n})\n\nexport const requestUsers = (page, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(page));\n\n        let data = await usersAPI.getUsers(page, pageSize);\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(data.items));\n        dispatch(setTotalUsersCount(data.totalCount));\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId));\n    let response = await apiMethod(userId);\n\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId));\n    }\n    dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\n    }\n}\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n    }\n}\n\nexport default usersReducer;","import React, {useState} from 'react';\nimport styles from './Paginator.module.css';\nimport cn from \"classnames\";\n\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n\n    return (\n    <div className={styles.paginator}>\n        { portionNumber > 1 &&\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\n\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\n                .map((p) => {\n                return <span className={ cn({\n                    [styles.selectedPage]: currentPage === p\n                }, styles.pageNumber) }\n                             key={p}\n                             onClick={(e) => {\n                                 onPageChanged(p);\n                             }}>{p}</span>\n            })}\n        { portionCount > portionNumber &&\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\n    </div>)\n}\n\nexport default Paginator;","import React from \"react\";\nimport styles from \"./users.module.css\";\nimport userPhoto from \"../../assets/images/zoom.jpg\";\nimport { NavLink } from \"react-router-dom\";\n\nlet User = ({user, followingInProgress, unfollow, follow}) => {\n  return (\n     <div>\n              <span>\n                  <div>\n                     <NavLink to={'/profile/' + user.id}>\n                      <img alt=\"usr face\" src={user.photos.small != null ? user.photos.small : userPhoto}\n                           className={styles.userPhoto}/>\n                     </NavLink>\n                  </div>\n                  <div>\n                      {user.followed\n                          ? <button \n                                    onClick={() => { unfollow(user.id) }}>\n                              Unfollow</button>\n                          : <button \n                                    onClick={() => { follow(user.id) }}>\n                                    Follow</button>}\n\n                  </div>\n              </span>\n              <span>\n                  <span>\n                      <div>{user.name}</div>\n                      <div>{user.status}</div>\n                  </span>\n                  <span>\n                      <div>{\"user.location.country\"}</div>\n                      <div>{\"user.location.city\"}</div>\n                  </span>\n              </span>\n          </div>)\n}\n\nexport default User;","import React from 'react';\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\n    return <div>\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\n        <div>\n            {\n                users.map(u => <User user={u}\n                                     followingInProgress={props.followingInProgress}\n                                     key={u.id}\n                                     unfollow={props.unfollow}\n                                     follow={props.follow}\n                    />\n                )\n            }\n        </div>\n    </div>\n}\n\nexport default Users;","import { createSelector } from \"reselect\";\n\nconst getUsersSelector = (state) => {\n    return state.usersPage.users\n}\n\nexport const getUsers = createSelector( getUsersSelector, (users) => {\n    return users.filter(u => true);\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.PageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}","import React from 'react';\nimport {connect} from 'react-redux';\nimport { follow, setCurrentPage, requestUsers, toggleFollowingProgress } from '../../redux/users-reducer';\nimport { unfollow } from '../../redux/users-reducer';\nimport Users from './Users.js';\nimport Preloader from '../common/Preloader/Preloader';\nimport { compose } from 'redux';\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from '../../redux/users-selectors';\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props;\n        this.props.getUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        const {pageSize} = this.props;\n        this.props.getUsers(pageNumber, pageSize);\n    }\n\n    render() {\n\n    return <>\n        { this.props.isFetching ? <Preloader /> : null}\n           <Users totalUsersCount={this.props.totalUsersCount}\n                  pageSize={this.props.pageSize}\n                  currentPage={this.props.currentPage}\n                  onPageChanged={this.onPageChanged}\n                  users={this.props.users}\n                  follow={this.props.follow}\n                  unfollow={this.props.unfollow}\n                  followingInProgress={this.props.toggleFollowingProgress}\n    />\n    </>\n}\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount:  getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers})\n)(UsersContainer)","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./Header.module.css\";\n\nconst Header = (props) => {\n  return <header className={s.header}>\n      {/* <img\n        src=\"https://i.pinimg.com/originals/3f/3d/d9/3f3dd9219f7bb1c9617cf4f154b70383.jpg\"\n        alt=\"\"\n      /> */}\n      <a href=\"https://www.freepnglogos.com/pics/company-logo-ideas\" title=\"Image from freepnglogos.com\"><img src=\"https://www.freepnglogos.com/uploads/company-logo-png/raise-company-logo-digital-product-demo-9.png\" alt=\"Raise company logo, digital product demo\" /></a>\n\n      <div className={s.loginBlock}>\n        {props.isAuth \n          ? <div> {props.login} - <button onClick={props.logout}>Log out</button> </div>\n          : <NavLink to={\"/login\"}>Login</NavLink>}\n      </div>\n    </header>\n};\n\nexport default Header;\n","import {authAPI, securityAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null //if null, then captcha is not required\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n          case GET_CAPTCHA_URL_SUCCESS:\n            return {\n                ...state,\n                ...action.payload\n            }\n  \n        default:\n            return state;\n    }\n}\n\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n    type: SET_USER_DATA, payload:\n        {userId, email, login, isAuth}\n});\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n  const response = await securityAPI.getCaptchaUrl();\n  const captchaUrl = response.data.url;\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\n}\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me();\n\n    if (response.data.resultCode === 0) {\n        let {id, login, email} = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    }\n}\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n      if (response.data.resultCode === 10) {\n        dispatch(getCaptchaUrl());\n      }\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n        dispatch(stopSubmit(\"login\", {_error: message}));\n    }\n}\n\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n  type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}\n});\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout();\n\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    }\n}\n\nexport default authReducer;","import React from \"react\";\nimport Header from \"./Header\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n\n  render () {\n  return <Header { ...this.props}/>;\n  };\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n});\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\n","import React from \"react\";\nimport { reduxForm } from \"redux-form\";\nimport { required } from \"../../utils/validators/validators\";\nimport { createField, Input } from \"../common/FormsControls/FormsControls\";\nimport { connect } from \"react-redux\"; \nimport { login } from \"../../redux/auth-reducer\";\nimport { Redirect } from \"react-router-dom\";\nimport style from \"../common/FormsControls/FormsControls.module.css\"\n\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\n    return (\n        <form onSubmit={handleSubmit }>\n            {createField(\"Email\", \"email\", [required], Input)}\n            {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\n            {createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\n\n            { captchaUrl && <img alt='' src={captchaUrl}/>}\n            { captchaUrl && createField(\"anti bot captcha\", \"captcha\", [required], Input, {})}\n\n            {error && <div className={style.formSummaryError}>\n                {error}\n            </div>}\n            <div>\n                <button>Login</button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    }\n    \n    if (props.isAuth) {\n        return <Redirect to={\"/profile\"} />\n    }\n\n    return <div>\n        <h1>Login</h1>\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    captchaUrl: state.auth.captchaUrl,\n    isAuth: state.auth.isAuth\n})\nexport default connect( mapStateToProps, {login})(Login);","import {getAuthUserData} from \"./auth-reducer\";\n\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\nlet initialState = {\n    initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n\n        default:\n            return state;\n    }\n}\n\n\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n\n    Promise.all([promise])\n        .then(() => {\n            dispatch(initializedSuccess());\n        });\n}\n\n\nexport default appReducer;","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n    return state;\n}\n\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\nwindow.__store__ = store;\n\nexport default store;","import React from \"react\";\nimport Preloader from \"../components/common/Preloader/Preloader\";\n\n\nexport const withSuspense = (Component) => {\n    return (props) => {\n        return <React.Suspense fallback={<Preloader />} >\n            <Component {...props} />\n        </React.Suspense>\n    };\n} ","import React, { Component } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\nimport UsersContainer from './components/Users/UsersContainer.jsx';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect, Provider } from \"react-redux\";\nimport {compose} from \"redux\"\nimport { initializeApp } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from \"./redux/redux-store\";\nimport { withSuspense } from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  };\n\n  render () {  \n    if (!this.props.initialized){\n        return <Preloader/>\n    }\n\n\n    return (\n    <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n          <div className='app-wrapper-content'>\n              <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n              <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n              <Route path='/users' render={() => <UsersContainer />} />\n              <Route path='/login' render={() => <Login />} />\n          </div>\n  </div>\n  );}\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n}) \n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);\n\nconst JSApp = (props) => {\n return <HashRouter >\n      <Provider store={store}>\n          <AppContainer />\n      </Provider>\n  </HashRouter>\n}\n\nexport default JSApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport JSApp from \"./App\";\n\nReactDOM.render(<JSApp/>, document.getElementById('root'));\n","import  './Preloader.css';\n\nlet Preloader = (props) => {\n    return <div class=\"lds-hourglass\"></div>\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\"};","export const required = value => {\n    if (value) return undefined;\n    return 'Field is required';\n}\n\n\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\n    return undefined;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__18P4_\",\"pageNumber\":\"Paginator_pageNumber__xOsKi\",\"selectedPage\":\"Paginator_selectedPage__3SIki\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import { stopSubmit } from \"redux-form\";\nimport { profileAPI, usersAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst DELETE_POST = 'DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"hi, how are you?\", likesCount: 12 },\n    { id: 2, message: \"this is a post?\", likesCount: 23 },\n    { id: 3, message: \"viva latina?\", likesCount: 3 },\n  ],\n  newPostText: \"jetlag\",\n  profile: null,\n  status: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n      case ADD_POST: {\n          let newPost = {\n              id: 5,\n              message: action.newPostText,\n              likesCount: 0\n          };\n          return {\n              ...state,\n              posts: [...state.posts, newPost],\n              newPostText: ''\n          };\n      }\n      case SET_STATUS: {\n          return {\n              ...state,\n              status: action.status\n          }\n      }\n      case SET_USER_PROFILE: {\n          return {...state, profile: action.profile}\n      }\n\n      case DELETE_POST:\n          return {...state, posts: state.posts.filter(p => p.id != action.postId)}\n\n      case SAVE_PHOTO_SUCCESS:\n          debugger;\n          return {...state, profile: {...state.profile, photos: action.photos }}\n      default:\n          return state;\n  }\n}\n\n\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  const response = await usersAPI.getProfile(userId);\n  dispatch(setUserProfile(response.data));\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n  let response = await profileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n  let response = await profileAPI.updateStatus(status);\n\n  if (response.data.resultCode === 0) {\n      dispatch(setStatus(status));\n  }\n}\nexport const savePhoto = (file) => async (dispatch) => {\n  let response = await profileAPI.savePhoto(file);\n\n  if (response.data.resultCode === 0) {\n      dispatch(savePhotoSuccess(response.data.data.photos));\n  }\n}\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n  const userId = getState().auth.userId;\n  const response = await profileAPI.saveProfile(profile);\n\n  if (response.data.resultCode === 0) {\n      dispatch(getUserProfile(userId));\n  } else {\n      dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0] }));\n      return Promise.reject(response.data.messages[0]);\n  }\n}\n\nexport default profileReducer;"],"sourceRoot":""}