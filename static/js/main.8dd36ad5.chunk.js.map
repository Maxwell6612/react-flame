{"version":3,"sources":["redux/dialogs-reducer.js","components/Navbar/Navbar.module.css","components/Users/users.module.css","api/api.js","components/Navbar/Navbar.jsx","utils/validators/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.js","assets/images/zoom.jpg","components/Users/User.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.js","components/common/Preloader/Preloader.js","components/common/FormsControls/FormsControls.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","put","status","authAPI","me","login","email","password","rememberMe","logout","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","fake","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","alt","src","photos","small","userPhoto","Users","props","createSelector","usersPage","getPageSize","PageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","style","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","JSApp","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validators","component","text","validate","class","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","newPostText","profile","addPostActionCreator","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.8dd36ad5.chunk.js","sourcesContent":["const SEND_MESSAGE = \"SEND-MESSAGE\";\n\nlet initialState = {\n  dialogs: [\n    { id: 1, name: \"Dallas\" },\n    { id: 2, name: \"Jack\" },\n    { id: 3, name: \"Joseph\" },\n    { id: 4, name: \"Eva\" },\n    { id: 5, name: \"Siberia\" },\n    { id: 6, name: \"Tokio\" },\n  ],\n  messages: [\n    { id: 1, message: \"Tokio is calling Berlin\" },\n    { id: 2, message: \"Tokio is calling Dock\" },\n    { id: 3, message: \"Tokio is calling Albania\" },\n    { id: 4, message: \"Eva\" },\n    { id: 5, message: \"Siberia\" },\n    { id: 6, message: \"Tokio\" },\n  ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      let body = action.newMessageBody;\n      return {\n        ...state,\n        messages: [ ...state.messages, { id: 6, message: body }],\n      };\n    default:\n      return state;\n  }\n};\n\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\n\nexport default dialogsReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1_En6\"};","import * as axios from \"axios\";\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        \"API-KEY\": \"89e2f250-2505-4a1c-a90b-397e41b71ddc\",\n      }\n})\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10){\n      return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n        .then(response => {\n          return response.data;\n        });\n},\n  follow(userId) {\n   return instance.post(`follow/${userId}`)\n  },\n  unfollow(userId) {\n    return instance.delete(`follow/${userId}`)\n  },\n  getProfile(userId) {\n    console.warn('Obsolete method please profileApi object')\n    return profileAPI.getProfile(userId);\n  },\n}\n\nexport const profileAPI = {\n  getProfile(userId) {\n    return instance.get(`profile/` + userId);\n  },\n  getStatus(userId) {\n    return instance.get(`status/` + userId);\n  },\n  updateStatus(userId) {\n    return instance.put(`status`, { status: 'status' } );\n  }\n};\n\nexport const authAPI = {\n  me() {\n    return instance.get(`auth/me`)\n  },\n  login( email, password, rememberMe = false ) {\n    return instance.post(`auth/login`, { email, password, rememberMe})\n  },\n  logout() {\n    return instance.delete(`auth/login`)\n  },\n}","import React from 'react'\nimport { NavLink } from 'react-router-dom';\nimport s from './Navbar.module.css'\n\nconst Navbar = () => {\n    return <nav className={s.nav}>\n          <div className={s.item}>\n            <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\n          </div>\n          <div className={`${s.item} ${s.active}`}>\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={`${s.item} ${s.active}`}>\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n          <div className={s.item}>\n            <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\n          </div>\n          <div className={s.item}>\n            <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\n          </div>\n          <div className={s.item}>\n            <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\n          </div>\n  </nav>\n}\n\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n  return items.map(u => {\n      if (u[objPropName] === itemId) {\n          return {...u, ...newObjProps}\n      }\n      return u;\n  })\n};","import {usersAPI} from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/validators/object-helpers\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState = {\n    users: [],\n    pageSize: 12,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: [],\n    fake: 10\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true} )\n            }\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false} )\n            }\n        case SET_USERS: {\n            return {...state, users: action.users}\n        }\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {...state, totalUsersCount: action.count}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        }\n        default:\n            return state;\n    }\n}\n\n\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\nexport const setUsers = (users) => ({type: SET_USERS, users})\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetching, userId) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userId\n})\n\nexport const requestUsers = (page, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(page));\n\n        let data = await usersAPI.getUsers(page, pageSize);\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(data.items));\n        dispatch(setTotalUsersCount(data.totalCount));\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId));\n    let response = await apiMethod(userId);\n\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId));\n    }\n    dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\n    }\n}\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n    }\n}\n\nexport default usersReducer;","import React, {useState} from 'react';\nimport styles from './Paginator.module.css';\nimport cn from \"classnames\";\n\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n\n    return (\n    <div className={styles.paginator}>\n        { portionNumber > 1 &&\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\n\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\n                .map((p) => {\n                return <span className={ cn({\n                    [styles.selectedPage]: currentPage === p\n                }, styles.pageNumber) }\n                             key={p}\n                             onClick={(e) => {\n                                 onPageChanged(p);\n                             }}>{p}</span>\n            })}\n        { portionCount > portionNumber &&\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\n    </div>)\n}\n\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/zoom.4bb0722e.jpg\";","import React from \"react\";\nimport styles from \"./users.module.css\";\nimport userPhoto from \"../../assets/images/zoom.jpg\";\nimport { NavLink } from \"react-router-dom\";\n\nlet User = ({user, followingInProgress, unfollow, follow}) => {\n  return (\n     <div>\n              <span>\n                  <div>\n                     <NavLink to={'/profile/' + user.id}>\n                      <img alt=\"usr face\" src={user.photos.small != null ? user.photos.small : userPhoto}\n                           className={styles.userPhoto}/>\n                     </NavLink>\n                  </div>\n                  <div>\n                      {user.followed\n                          ? <button \n                                    onClick={() => { unfollow(user.id) }}>\n                              Unfollow</button>\n                          : <button \n                                    onClick={() => { follow(user.id) }}>\n                                    Follow</button>}\n\n                  </div>\n              </span>\n              <span>\n                  <span>\n                      <div>{user.name}</div>\n                      <div>{user.status}</div>\n                  </span>\n                  <span>\n                      <div>{\"user.location.country\"}</div>\n                      <div>{\"user.location.city\"}</div>\n                  </span>\n              </span>\n          </div>)\n}\n\nexport default User;","import React from 'react';\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\n    return <div>\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\n        <div>\n            {\n                users.map(u => <User user={u}\n                                     followingInProgress={props.followingInProgress}\n                                     key={u.id}\n                                     unfollow={props.unfollow}\n                                     follow={props.follow}\n                    />\n                )\n            }\n        </div>\n    </div>\n}\n\nexport default Users;","import { createSelector } from \"reselect\";\n\nconst getUsersSelector = (state) => {\n    return state.usersPage.users\n}\n\nexport const getUsers = createSelector( getUsersSelector, (users) => {\n    return users.filter(u => true);\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.PageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}","import React from 'react';\nimport {connect} from 'react-redux';\nimport { follow, setCurrentPage, requestUsers, toggleFollowingProgress } from '../../redux/users-reducer';\nimport { unfollow } from '../../redux/users-reducer';\nimport Users from './Users.js';\nimport Preloader from '../common/Preloader/Preloader';\nimport { compose } from 'redux';\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from '../../redux/users-selectors';\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props;\n        this.props.getUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        const {pageSize} = this.props;\n        this.props.getUsers(pageNumber, pageSize);\n    }\n\n    render() {\n\n    return <>\n        { this.props.isFetching ? <Preloader /> : null}\n           <Users totalUsersCount={this.props.totalUsersCount}\n                  pageSize={this.props.pageSize}\n                  currentPage={this.props.currentPage}\n                  onPageChanged={this.onPageChanged}\n                  users={this.props.users}\n                  follow={this.props.follow}\n                  unfollow={this.props.unfollow}\n                  followingInProgress={this.props.toggleFollowingProgress}\n    />\n    </>\n}\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount:  getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers})\n)(UsersContainer)","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./Header.module.css\";\n\nconst Header = (props) => {\n  return <header className={s.header}>\n      <img\n        src=\"https://i.pinimg.com/originals/3f/3d/d9/3f3dd9219f7bb1c9617cf4f154b70383.jpg\"\n        alt=\"\"\n      />\n\n      <div className={s.loginBlock}>\n        {props.isAuth \n          ? <div> {props.login} - <button onClick={props.logout}>Log out</button> </div>\n          : <NavLink to={\"/login\"}>Login</NavLink>}\n      </div>\n    </header>\n};\n\nexport default Header;\n","import {authAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'SET_USER_DATA';\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload\n            }\n\n        default:\n            return state;\n    }\n}\n\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n    type: SET_USER_DATA, payload:\n        {userId, email, login, isAuth}\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me();\n\n    if (response.data.resultCode === 0) {\n        let {id, login, email} = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    }\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe);\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n        dispatch(stopSubmit(\"login\", {_error: message}));\n    }\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout();\n\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    }\n}\n\nexport default authReducer;","import React from \"react\";\nimport Header from \"./Header\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n\n  render () {\n  return <Header { ...this.props}/>;\n  };\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n});\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\n","import React from \"react\";\nimport { reduxForm } from \"redux-form\";\nimport { required } from \"../../utils/validators/validators\";\nimport { createField, Input } from \"../common/FormsControls/FormsControls\";\nimport { connect } from \"react-redux\"; \nimport { login } from \"../../redux/auth-reducer\";\nimport { Redirect } from \"react-router-dom\";\nimport style from \"../common/FormsControls/FormsControls.module.css\"\n\nconst LoginForm = ({handleSubmit, error}) => {\n    return (\n        <form onSubmit={handleSubmit }>\n            {createField(\"Email\", \"email\", [required], Input)}\n            {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\n            {createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\n            {error && <div className={style.formSummaryError}>\n                {error}\n            </div>}\n            <div>\n                <button>Login</button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe)\n    }\n    \n    if (props.isAuth) {\n        return <Redirect to={\"/profile\"} />\n    }\n\n    return <div>\n        <h1>Login</h1>\n        <LoginReduxForm onSubmit={onSubmit}/>\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth\n})\nexport default connect( mapStateToProps, {login})(Login);","import {getAuthUserData} from \"./auth-reducer\";\n\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\nlet initialState = {\n    initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n\n        default:\n            return state;\n    }\n}\n\n\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n\n    Promise.all([promise])\n        .then(() => {\n            dispatch(initializedSuccess());\n        });\n}\n\n\nexport default appReducer;","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n    return state;\n}\n\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\nwindow.__store__ = store;\n\nexport default store;","import React from \"react\";\nimport Preloader from \"../components/common/Preloader/Preloader\";\n\n\nexport const withSuspense = (Component) => {\n    return (props) => {\n        return <React.Suspense fallback={<Preloader />} >\n            <Component {...props} />\n        </React.Suspense>\n    };\n} ","import React, { Component } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\nimport UsersContainer from './components/Users/UsersContainer.jsx';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect, Provider } from \"react-redux\";\nimport {compose} from \"redux\"\nimport { initializeApp } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from \"./redux/redux-store\";\nimport { withSuspense } from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  };\n\n  render () {  \n    if (!this.props.initialized){\n        return <Preloader/>\n    }\n\n\n    return (\n    <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n          <div className='app-wrapper-content'>\n              <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n              <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n              <Route path='/users' render={() => <UsersContainer />} />\n              <Route path='/login' render={() => <Login />} />\n          </div>\n  </div>\n  );}\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n}) \n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);\n\nconst JSApp = (props) => {\n return <HashRouter >\n      <Provider store={store}>\n          <AppContainer />\n      </Provider>\n  </HashRouter>\n}\n\nexport default JSApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport JSApp from \"./App\";\n\nReactDOM.render(<JSApp/>, document.getElementById('root'));\n","import React from \"react\";\nimport styles from \"./FormsControls.module.css\";\nimport { Field } from \"redux-form\";\n//import { required } from \"../../../utils/validators/validators\";\n\nconst FormControl = ({input, meta: {touched, error}, children}) => {\n\n    const hasError = touched && error;\n    return (\n        <div className={styles.formControl + \" \" + ( hasError ? styles.error : \"\")}>\n            <div>\n                {children}\n            </div>\n            { hasError && <span>{error}</span>}\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const {input, meta, child, ...restProps} = props;\n    return <FormControl {...props}> <textarea {...input}{...restProps}/></FormControl>\n}\n\nexport const Input = (props) => {\n    const {input, meta, child,...restProps} = props;\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}\n\nexport const createField = (placeholder, name, validators, component, props = {}, text=\"\") => (\n        <div>\n            <Field placeholder={placeholder} \n                   name={name}\n                   validate={validators}\n                   component={component}\n                   {...props}\n        /> {text}\n    </div>\n)","import  './Preloader.css';\n\nlet Preloader = (props) => {\n    return <div class=\"lds-hourglass\"></div>\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__18P4_\",\"pageNumber\":\"Paginator_pageNumber__xOsKi\",\"selectedPage\":\"Paginator_selectedPage__3SIki\"};","export const required = value => {\n    if (value) return undefined;\n    return 'Field is required';\n}\n\n\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\n    return undefined;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import { profileAPI, usersAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst DELETE_POST = 'DELETE_POST'\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"hi, how are you?\", likesCount: 12 },\n    { id: 2, message: \"this is a post?\", likesCount: 23 },\n    { id: 3, message: \"viva latina?\", likesCount: 3 },\n  ],\n  newPostText: \"jetlag\",\n  profile: null,\n  status: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: {\n      let newPost = {\n        id: 5,\n        message: action.newPostText,\n        likesCount: 14,\n      };\n      return { \n        ...state,\n        posts: [...state.posts, newPost]\n       };\n    }\n    case SET_USER_PROFILE: {\n      return {...state, profile: action.profile}\n    }\n    case SET_STATUS: {\n      return {...state, status: action.status}\n    }\n    case DELETE_POST:\n      return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\nexport const setStatus = (status) => ({type: SET_STATUS, status});\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  let response = await usersAPI.getProfile(userId);\n  dispatch(setUserProfile(response.data));\n};\n\nexport const getStatus = (userId) => async (dispatch) => {\n  let response = await profileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n};\n\nexport const updateStatus = (status) => async (dispatch) => {\n  let response = await profileAPI.updateStatus(status);\n\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\n\nexport default profileReducer;\n"],"sourceRoot":""}