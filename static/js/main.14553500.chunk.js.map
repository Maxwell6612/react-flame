{"version":3,"sources":["assets/images/zoom.jpg","redux/dialogs-reducer.js","api/api.js","components/Users/users.module.css","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","utils/validators/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.js","components/common/Preloader/Preloader.js","components/common/FormsControls/FormsControls.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","logout","module","exports","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","fake","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","alt","src","photos","small","userPhoto","Users","props","createSelector","usersPage","getPageSize","PageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","href","title","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","style","formSummaryError","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","JSApp","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validators","component","text","validate","class","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","newPostText","addPostActionCreator","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.14553500.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/zoom.4bb0722e.jpg\";","const SEND_MESSAGE = \"SEND-MESSAGE\";\n\nlet initialState = {\n  dialogs: [\n    { id: 1, name: \"Dallas\" },\n    { id: 2, name: \"Jack\" },\n    { id: 3, name: \"Joseph\" },\n    { id: 4, name: \"Eva\" },\n    { id: 5, name: \"Siberia\" },\n    { id: 6, name: \"Tokio\" },\n  ],\n  messages: [\n    { id: 1, message: \"Tokio is calling Berlin\" },\n    { id: 2, message: \"Tokio is calling Dock\" },\n    { id: 3, message: \"Tokio is calling Albania\" },\n    { id: 4, message: \"Eva\" },\n    { id: 5, message: \"Siberia\" },\n    { id: 6, message: \"Tokio\" },\n  ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      let body = action.newMessageBody;\n      return {\n        ...state,\n        messages: [ ...state.messages, { id: 6, message: body }],\n      };\n    default:\n      return state;\n  }\n};\n\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\n\nexport default dialogsReducer;\n","import * as axios from \"axios\";\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        \"API-KEY\": \"89e2f250-2505-4a1c-a90b-397e41b71ddc\",\n      }\n})\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10){\n      return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n        .then(response => {\n          return response.data;\n        });\n},\n  follow(userId) {\n   return instance.post(`follow/${userId}`)\n  },\n  unfollow(userId) {\n    return instance.delete(`follow/${userId}`)\n  },\n  getProfile(userId) {\n    console.warn('Obsolete method please profileApi object')\n    return profileAPI.getProfile(userId);\n  },\n}\n\nexport const profileAPI = {\n  getProfile(userId) {\n    return instance.get(`profile/` + userId);\n  },\n  getStatus(userId) {\n    return instance.get(`profile/status/` + userId);\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status: status } );\n  },\n  savePhoto(photoFile) {\n    const formData = new FormData();\n    formData.append(\"image\", photoFile);\n\n    return instance.put(`profile/photo`, formData, {\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    });\n  },\n  saveProfile(profile) {\n    return instance.put(`profile`, profile );\n  }\n};\n\nexport const authAPI = {\n  me() {\n    return instance.get(`auth/me`)\n  },\n  login( email, password, rememberMe = false ) {\n    return instance.post(`auth/login`, { email, password, rememberMe})\n  },\n  logout() {\n    return instance.delete(`auth/login`)\n  },\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1_En6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","import React from 'react'\nimport { NavLink } from 'react-router-dom';\nimport s from './Navbar.module.css'\n\nconst Navbar = () => {\n    return <nav className={s.nav}>\n          <div className={s.item}>\n            <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\n          </div>\n          <div className={`${s.item} ${s.active}`}>\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={`${s.item} ${s.active}`}>\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n          <div className={s.item}>\n            <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\n          </div>\n          <div className={s.item}>\n            <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\n          </div>\n          <div className={s.item}>\n            <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\n          </div>\n  </nav>\n}\n\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n  return items.map(u => {\n      if (u[objPropName] === itemId) {\n          return {...u, ...newObjProps}\n      }\n      return u;\n  })\n};","import {usersAPI} from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/validators/object-helpers\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState = {\n    users: [],\n    pageSize: 12,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: [],\n    fake: 10\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true} )\n            }\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false} )\n            }\n        case SET_USERS: {\n            return {...state, users: action.users}\n        }\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {...state, totalUsersCount: action.count}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        }\n        default:\n            return state;\n    }\n}\n\n\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\nexport const setUsers = (users) => ({type: SET_USERS, users})\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetching, userId) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userId\n})\n\nexport const requestUsers = (page, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(page));\n\n        let data = await usersAPI.getUsers(page, pageSize);\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(data.items));\n        dispatch(setTotalUsersCount(data.totalCount));\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId));\n    let response = await apiMethod(userId);\n\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId));\n    }\n    dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\n    }\n}\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n    }\n}\n\nexport default usersReducer;","import React, {useState} from 'react';\nimport styles from './Paginator.module.css';\nimport cn from \"classnames\";\n\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n\n    return (\n    <div className={styles.paginator}>\n        { portionNumber > 1 &&\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\n\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\n                .map((p) => {\n                return <span className={ cn({\n                    [styles.selectedPage]: currentPage === p\n                }, styles.pageNumber) }\n                             key={p}\n                             onClick={(e) => {\n                                 onPageChanged(p);\n                             }}>{p}</span>\n            })}\n        { portionCount > portionNumber &&\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\n    </div>)\n}\n\nexport default Paginator;","import React from \"react\";\nimport styles from \"./users.module.css\";\nimport userPhoto from \"../../assets/images/zoom.jpg\";\nimport { NavLink } from \"react-router-dom\";\n\nlet User = ({user, followingInProgress, unfollow, follow}) => {\n  return (\n     <div>\n              <span>\n                  <div>\n                     <NavLink to={'/profile/' + user.id}>\n                      <img alt=\"usr face\" src={user.photos.small != null ? user.photos.small : userPhoto}\n                           className={styles.userPhoto}/>\n                     </NavLink>\n                  </div>\n                  <div>\n                      {user.followed\n                          ? <button \n                                    onClick={() => { unfollow(user.id) }}>\n                              Unfollow</button>\n                          : <button \n                                    onClick={() => { follow(user.id) }}>\n                                    Follow</button>}\n\n                  </div>\n              </span>\n              <span>\n                  <span>\n                      <div>{user.name}</div>\n                      <div>{user.status}</div>\n                  </span>\n                  <span>\n                      <div>{\"user.location.country\"}</div>\n                      <div>{\"user.location.city\"}</div>\n                  </span>\n              </span>\n          </div>)\n}\n\nexport default User;","import React from 'react';\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\n    return <div>\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\n        <div>\n            {\n                users.map(u => <User user={u}\n                                     followingInProgress={props.followingInProgress}\n                                     key={u.id}\n                                     unfollow={props.unfollow}\n                                     follow={props.follow}\n                    />\n                )\n            }\n        </div>\n    </div>\n}\n\nexport default Users;","import { createSelector } from \"reselect\";\n\nconst getUsersSelector = (state) => {\n    return state.usersPage.users\n}\n\nexport const getUsers = createSelector( getUsersSelector, (users) => {\n    return users.filter(u => true);\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.PageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}","import React from 'react';\nimport {connect} from 'react-redux';\nimport { follow, setCurrentPage, requestUsers, toggleFollowingProgress } from '../../redux/users-reducer';\nimport { unfollow } from '../../redux/users-reducer';\nimport Users from './Users.js';\nimport Preloader from '../common/Preloader/Preloader';\nimport { compose } from 'redux';\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from '../../redux/users-selectors';\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props;\n        this.props.getUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        const {pageSize} = this.props;\n        this.props.getUsers(pageNumber, pageSize);\n    }\n\n    render() {\n\n    return <>\n        { this.props.isFetching ? <Preloader /> : null}\n           <Users totalUsersCount={this.props.totalUsersCount}\n                  pageSize={this.props.pageSize}\n                  currentPage={this.props.currentPage}\n                  onPageChanged={this.onPageChanged}\n                  users={this.props.users}\n                  follow={this.props.follow}\n                  unfollow={this.props.unfollow}\n                  followingInProgress={this.props.toggleFollowingProgress}\n    />\n    </>\n}\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount:  getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers})\n)(UsersContainer)","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./Header.module.css\";\n\nconst Header = (props) => {\n  return <header className={s.header}>\n      {/* <img\n        src=\"https://i.pinimg.com/originals/3f/3d/d9/3f3dd9219f7bb1c9617cf4f154b70383.jpg\"\n        alt=\"\"\n      /> */}\n      <a href=\"https://www.freepnglogos.com/pics/company-logo-ideas\" title=\"Image from freepnglogos.com\"><img src=\"https://www.freepnglogos.com/uploads/company-logo-png/raise-company-logo-digital-product-demo-9.png\" alt=\"Raise company logo, digital product demo\" /></a>\n\n      <div className={s.loginBlock}>\n        {props.isAuth \n          ? <div> {props.login} - <button onClick={props.logout}>Log out</button> </div>\n          : <NavLink to={\"/login\"}>Login</NavLink>}\n      </div>\n    </header>\n};\n\nexport default Header;\n","import {authAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'SET_USER_DATA';\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload\n            }\n\n        default:\n            return state;\n    }\n}\n\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n    type: SET_USER_DATA, payload:\n        {userId, email, login, isAuth}\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me();\n\n    if (response.data.resultCode === 0) {\n        let {id, login, email} = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    }\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe);\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n        dispatch(stopSubmit(\"login\", {_error: message}));\n    }\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout();\n\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    }\n}\n\nexport default authReducer;","import React from \"react\";\nimport Header from \"./Header\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n\n  render () {\n  return <Header { ...this.props}/>;\n  };\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n});\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\n","import React from \"react\";\nimport { reduxForm } from \"redux-form\";\nimport { required } from \"../../utils/validators/validators\";\nimport { createField, Input } from \"../common/FormsControls/FormsControls\";\nimport { connect } from \"react-redux\"; \nimport { login } from \"../../redux/auth-reducer\";\nimport { Redirect } from \"react-router-dom\";\nimport style from \"../common/FormsControls/FormsControls.module.css\"\n\nconst LoginForm = ({handleSubmit, error}) => {\n    return (\n        <form onSubmit={handleSubmit }>\n            {createField(\"Email\", \"email\", [required], Input)}\n            {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\n            {createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\n            {error && <div className={style.formSummaryError}>\n                {error}\n            </div>}\n            <div>\n                <button>Login</button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe)\n    }\n    \n    if (props.isAuth) {\n        return <Redirect to={\"/profile\"} />\n    }\n\n    return <div>\n        <h1>Login</h1>\n        <LoginReduxForm onSubmit={onSubmit}/>\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth\n})\nexport default connect( mapStateToProps, {login})(Login);","import {getAuthUserData} from \"./auth-reducer\";\n\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\nlet initialState = {\n    initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n\n        default:\n            return state;\n    }\n}\n\n\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n\n    Promise.all([promise])\n        .then(() => {\n            dispatch(initializedSuccess());\n        });\n}\n\n\nexport default appReducer;","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n    return state;\n}\n\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\nwindow.__store__ = store;\n\nexport default store;","import React from \"react\";\nimport Preloader from \"../components/common/Preloader/Preloader\";\n\n\nexport const withSuspense = (Component) => {\n    return (props) => {\n        return <React.Suspense fallback={<Preloader />} >\n            <Component {...props} />\n        </React.Suspense>\n    };\n} ","import React, { Component } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\nimport UsersContainer from './components/Users/UsersContainer.jsx';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect, Provider } from \"react-redux\";\nimport {compose} from \"redux\"\nimport { initializeApp } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from \"./redux/redux-store\";\nimport { withSuspense } from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  };\n\n  render () {  \n    if (!this.props.initialized){\n        return <Preloader/>\n    }\n\n\n    return (\n    <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n          <div className='app-wrapper-content'>\n              <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n              <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n              <Route path='/users' render={() => <UsersContainer />} />\n              <Route path='/login' render={() => <Login />} />\n          </div>\n  </div>\n  );}\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n}) \n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);\n\nconst JSApp = (props) => {\n return <HashRouter >\n      <Provider store={store}>\n          <AppContainer />\n      </Provider>\n  </HashRouter>\n}\n\nexport default JSApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport JSApp from \"./App\";\n\nReactDOM.render(<JSApp/>, document.getElementById('root'));\n","import React from \"react\";\nimport styles from \"./FormsControls.module.css\";\nimport { Field } from \"redux-form\";\n//import { required } from \"../../../utils/validators/validators\";\n\nconst FormControl = ({input, meta: {touched, error}, children}) => {\n\n    const hasError = touched && error;\n    return (\n        <div className={styles.formControl + \" \" + ( hasError ? styles.error : \"\")}>\n            <div>\n                {children}\n            </div>\n            { hasError && <span>{error}</span>}\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const {input, meta, child, ...restProps} = props;\n    return <FormControl {...props}> <textarea {...input}{...restProps}/></FormControl>\n}\n\nexport const Input = (props) => {\n    const {input, meta, child,...restProps} = props;\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}\n\nexport const createField = (placeholder, name, validators, component, props = {}, text=\"\") => (\n        <div>\n            <Field placeholder={placeholder} \n                   name={name}\n                   validate={validators}\n                   component={component}\n                   {...props}\n        /> {text}\n    </div>\n)","import  './Preloader.css';\n\nlet Preloader = (props) => {\n    return <div class=\"lds-hourglass\"></div>\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__18P4_\",\"pageNumber\":\"Paginator_pageNumber__xOsKi\",\"selectedPage\":\"Paginator_selectedPage__3SIki\"};","export const required = value => {\n    if (value) return undefined;\n    return 'Field is required';\n}\n\n\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\n    return undefined;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import { stopSubmit } from \"redux-form\";\nimport { profileAPI, usersAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst DELETE_POST = 'DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"hi, how are you?\", likesCount: 12 },\n    { id: 2, message: \"this is a post?\", likesCount: 23 },\n    { id: 3, message: \"viva latina?\", likesCount: 3 },\n  ],\n  newPostText: \"jetlag\",\n  profile: null,\n  status: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n      case ADD_POST: {\n          let newPost = {\n              id: 5,\n              message: action.newPostText,\n              likesCount: 0\n          };\n          return {\n              ...state,\n              posts: [...state.posts, newPost],\n              newPostText: ''\n          };\n      }\n      case SET_STATUS: {\n          return {\n              ...state,\n              status: action.status\n          }\n      }\n      case SET_USER_PROFILE: {\n          return {...state, profile: action.profile}\n      }\n\n      case DELETE_POST:\n          return {...state, posts: state.posts.filter(p => p.id != action.postId)}\n\n      case SAVE_PHOTO_SUCCESS:\n          debugger;\n          return {...state, profile: {...state.profile, photos: action.photos }}\n      default:\n          return state;\n  }\n}\n\n\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  const response = await usersAPI.getProfile(userId);\n  dispatch(setUserProfile(response.data));\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n  let response = await profileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n  let response = await profileAPI.updateStatus(status);\n\n  if (response.data.resultCode === 0) {\n      dispatch(setStatus(status));\n  }\n}\nexport const savePhoto = (file) => async (dispatch) => {\n  let response = await profileAPI.savePhoto(file);\n\n  if (response.data.resultCode === 0) {\n      dispatch(savePhotoSuccess(response.data.data.photos));\n  }\n}\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n  const userId = getState().auth.userId;\n  const response = await profileAPI.saveProfile(profile);\n\n  if (response.data.resultCode === 0) {\n      dispatch(getUserProfile(userId));\n  } else {\n      dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0] }));\n      return Promise.reject(response.data.messages[0]);\n  }\n}\n\nexport default profileReducer;"],"sourceRoot":""}